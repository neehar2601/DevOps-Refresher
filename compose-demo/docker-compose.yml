version: "3.8"  # The version of Docker Compose syntax

services:
  # Service 1: Our Python Web App
  web:
    build: .             # Build the Dockerfile in current directory
    ports:
      - "5001:5000"      # Map host port 5000 to container port 5000
    depends_on:
      - redis            # Make sure Redis starts first!

  # Service 2: The Redis Database
  redis:
    image: "redis:alpine" # Download the official image
